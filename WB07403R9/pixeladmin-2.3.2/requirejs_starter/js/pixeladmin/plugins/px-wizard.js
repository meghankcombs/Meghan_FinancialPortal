!function(t,e){if("function"==typeof define&&define.amd)define(["module","exports","jquery","px/util"],e);else if("undefined"!=typeof exports)e(module,exports,require("jquery"),require("px/util"));else{var i={exports:{}};e(i,i.exports,t.jquery,t.util),t.pxWizard=i.exports}}(this,function(t,e,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=r(i),o=r(n),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f=function(t){var e="pxWizard",i=".px.wizard",n=t.fn[e],r={minStepWidth:200},a={WRAPPER:"wizard-wrapper",STEPS:"wizard-steps",PANE:"wizard-pane",FROZEN:"frozen",FINISHED:"finished",ACTIVE:"active",COMPLETED:"completed"},f={RESIZE:"resize.px.wizard",CLICK:"click.px.wizard",CHANGE:"stepchange.px.wizard",CHANGED:"stepchanged.px.wizard",FINISH:"finish.px.wizard",FINISHED:"finished.px.wizard",FROZEN:"frozen.px.wizard",UNFROZEN:"unfrozen.px.wizard",RESETED:"reseted.px.wizard",DESTROY:"destroy.px.wizard"},d=function(){function n(e,i){s(this,n),this.uniqueId=o.default.generateUniqueId(),this.element=e,this.steps=t(e).find("."+a.STEPS)[0],this.stepItems=t(this.steps).find("li"),this.wrapper=t(e).find("."+a.WRAPPER)[0],this.config=this._getConfig(i),this.activeStep=null,this._isRtl="rtl"===t("html").attr("dir"),this._resetStepsWidth(),this.resizeStepItems(),this.goTo(this.getActiveStepIndex()),this._setListeners()}return l(n,[{key:"resizeStepItems",value:function(){for(var e=this.stepItems.length,i=t(this.wrapper).width(),n=i>this.config.minStepWidth*e?Math.floor(i/e):this.config.minStepWidth,r=0;r<e;r++)this._setStrictWidth(this.stepItems[r],n);null!==this.activeStep&&this._placeStepsContainer()}},{key:"getActiveStepIndex",value:function(){var e=this.activeStep||t(this.steps).find("li."+a.ACTIVE)[0];return e?this._getStepIndex(e):0}},{key:"getStepCount",value:function(){return this.stepItems.length}},{key:"goTo",value:function(t){if(!this.isFrozen()&&!this.isFinished()){var e=void 0,i=void 0,n=void 0,r=this._getStepItemAndTarget(t),s=h(r,3);i=s[0],e=s[1],n=s[2];var a=this.activeStep?this._getStepIndex(this.activeStep):null;null!==a&&i===a||(null===a||this._triggerPreventableEvent("CHANGE",this.element,{activeStepIndex:a,nextStepIndex:i}))&&(this.activeStep=e,this._activateStepItem(e,i),this._activateStepPane(n),null!==a&&this._triggerEvent("CHANGED",this.element,{prevStepIndex:a,activeStepIndex:i}))}}},{key:"getPaneByIndex",value:function(e){var i=void 0,n=this._getStepItemAndTarget(e),r=h(n,3);return r[0],r[1],i=r[2],t(i)}},{key:"getActivePane",value:function(){return this.getPaneByIndex(this.getActiveStepIndex())}},{key:"goNext",value:function(){if(!this.isFrozen()&&!this.isFinished()){var t=this._getStepIndex(this.activeStep)+1;if(t>=this.stepItems.length)return this.finish();this.goTo(t)}}},{key:"goPrev",value:function(){if(!this.isFrozen()&&!this.isFinished()){var t=this._getStepIndex(this.activeStep)-1;t<0||this.goTo(t)}}},{key:"finish",value:function(){if(!this.isFrozen()&&!this.isFinished()&&this._triggerPreventableEvent("FINISH",this.element)){var t=this._getStepIndex(this.activeStep),e=this.stepItems.length-1;t!==e&&this.goTo(e),o.default.addClass(this.element,a.FINISHED),this.freeze(),this._triggerEvent("FINISHED",this.element)}}},{key:"isFinished",value:function(){return o.default.hasClass(this.element,a.FINISHED)}},{key:"freeze",value:function(){o.default.addClass(this.element,a.FROZEN),this._triggerEvent("FROZEN",this.element)}},{key:"unfreeze",value:function(){this.isFinished()||(o.default.removeClass(this.element,a.FROZEN),this._triggerEvent("UNFROZEN",this.element))}},{key:"isFrozen",value:function(){return o.default.hasClass(this.element,a.FROZEN)}},{key:"reset",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.default.removeClass(this.element,a.FROZEN),o.default.removeClass(this.element,a.FINISHED),t&&this.goTo(0),this._triggerEvent("RESETED",this.element)}},{key:"destroy",value:function(){this._triggerPreventableEvent("DESTROY",this.element)&&(this._unsetListeners(),t(this.element).removeData("px.wizard"))}},{key:"_resetStepsWidth",value:function(){this.steps.style.width="auto"}},{key:"_setStrictWidth",value:function(t,e){t.style.minWidth=e+"px",t.style.maxWidth=e+"px",t.style.width=e+"px"}},{key:"_getStepItemAndTarget",value:function(t){var e=void 0,i=void 0;if("number"==typeof t){if(e=this.stepItems[t],i=t,!e)throw new Error('Step item with index "'+t+'" is not found.')}else e=t[0]||t,i=this._getStepIndex(e);var n=e.getAttribute("data-target");if(!n)throw new Error('The step item has invalid "data-target" attribute.');return[i,e,n]}},{key:"_activateStepItem",value:function(t,e){o.default.addClass(t,a.ACTIVE),o.default.removeClass(t,a.COMPLETED);for(var i=0;i<e;i++)o.default.addClass(this.stepItems[i],a.COMPLETED),o.default.removeClass(this.stepItems[i],a.ACTIVE);for(var n=e+1,r=this.stepItems.length;n<r;n++)o.default.removeClass(this.stepItems[n],a.ACTIVE),o.default.removeClass(this.stepItems[n],a.COMPLETED);this._placeStepsContainer()}},{key:"_activateStepPane",value:function(e){for(var i=t(this.element).find("."+a.PANE+"."+a.ACTIVE),n=0,r=i.length;n<r;n++)o.default.removeClass(i[n],a.ACTIVE);o.default.addClass(t(this.element).find(e)[0],a.ACTIVE)}},{key:"_placeStepsContainer",value:function(){var e=t(this.wrapper).width(),i=t(this.steps).width(),n=t(this.activeStep).outerWidth(),r=Math.floor((e-n)/2),s=t(this.activeStep).position().left,a=void 0;this._isRtl&&(s=i-s-n),i>e&&s>r?i+(a=-1*s+r)<e&&(a=-1*i+e):a=0,this.steps.style[this._isRtl?"right":"left"]=a+"px"}},{key:"_getStepIndex",value:function(t){for(var e=void 0,i=0,n=this.stepItems.length;i<n;i++)if(t===this.stepItems[i]){e=i;break}if(void 0===e)throw new Error("Cannot find step item index.");return e}},{key:"_setListeners",value:function(){var e=this;t(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,t.proxy(this.resizeStepItems,this)),t(this.steps).on(this.constructor.Event.CLICK,"> li",function(){o.default.hasClass(this,a.COMPLETED)&&e.goTo(this)}),t(this.element).on(this.constructor.Event.CLICK,"[data-wizard-action]",function(){var t=this.getAttribute("data-wizard-action");if("next"===t)return e.goNext();if("prev"===t)return e.goPrev();if("finish"===t)return e.finish();throw new Error('Action "'+t+'" is not found.')})}},{key:"_unsetListeners",value:function(){t(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),t(this.element).off(i),t(this.steps).off(i)}},{key:"_triggerEvent",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t(this.element).trigger(t.Event(this.constructor.Event[e],{target:i}),[n])}},{key:"_triggerPreventableEvent",value:function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.Event(this.constructor.Event[e],{target:i});return t(this.element).trigger(r,[n]),!r.isDefaultPrevented()}},{key:"_getConfig",value:function(e){return t.extend({},this.constructor.Default,t(this.element).data(),e)}}],[{key:"_jQueryInterface",value:function(e){for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];var a=void 0,o=this.each(function(){var i=t(this).data("px.wizard"),s="object"===(void 0===e?"undefined":u(e))?e:null;if(i||(i=new n(this,s),t(this).data("px.wizard",i)),"string"==typeof e){if(!i[e])throw new Error('No method named "'+e+'".');a=i[e].apply(i,r)}});return void 0!==a?a:o}},{key:"Default",get:function(){return r}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"px.wizard"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return i}}]),n}();return t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=n,d._jQueryInterface},d}(a.default);e.default=f,t.exports=e.default});